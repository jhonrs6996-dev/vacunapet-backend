{% extends 'base.html' %}

{% block title %}Editar Mascota{% endblock %}

{% block content %}

<h2 class="mb-4">Editar Mascota</h2>

<form method="POST" enctype="multipart/form-data" class="row g-3">

  <div class="col-md-6">
    <label class="form-label">Nombre</label>
    <input type="text" name="nombre" class="form-control" value="{{ mascota.nombre }}" required>
  </div>

  <div class="col-md-6">
    <label class="form-label">Especie</label>
    <input type="text" name="especie" class="form-control" value="{{ mascota.especie }}" required>
  </div>

  <div class="col-md-6">
    <label class="form-label">Raza</label>
    <input type="text" name="raza" class="form-control" value="{{ mascota.raza }}">
  </div>

  <div class="col-md-6">
    <label class="form-label">Fecha de nacimiento</label>
    <input type="date" name="fecha_nacimiento" class="form-control"
           value="{{ mascota.fecha_nacimiento.strftime('%Y-%m-%d') if mascota.fecha_nacimiento }}"

  </div>

  <div class="col-md-6">
    <label class="form-label">Foto (opcional)</label>
    <input type="file" name="foto" class="form-control">
  </div>

  <!-- ✅ CAMPOS NUEVOS CON VALORES PRECARGADOS -->

  <div class="col-md-6">
    <label class="form-label">Peso (kg)</label>
    <input type="number" step="0.1" name="peso" class="form-control" value="{{ mascota.peso }}">
  </div>

  <div class="col-md-6">
    <label class="form-label">Nro de Microchip</label>
    <input type="text" name="microchip" class="form-control" value="{{ mascota.microchip }}">
  </div>

  <div class="col-md-6">
    <label class="form-label">Castrado</label>
    <select name="castrado" class="form-control">
      <option value="True" {% if mascota.castrado %}selected{% endif %}>Sí</option>
      <option value="False" {% if not mascota.castrado %}selected{% endif %}>No</option>
    </select>
  </div>

  <div class="col-12 d-flex gap-2">
    <button type="submit" class="btn btn-primary">Guardar cambios</button>
    <a href="{{ url_for('view_pet', pet_id=mascota.id) }}" class="btn btn-secondary">Cancelar</a>
  </div>

</form>

{% endblock %}
